apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'

android {
    compileSdk build_versions.compileSdk
    defaultConfig {
        minSdk build_versions.minSdk
        targetSdk build_versions.targetSdk
        versionCode build_versions.versionCode
        versionName build_versions.versionName
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            buildConfigField("String", "umengAppKey", umengAppKey)
        }

        debug {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
            buildConfigField("String", "umengAppKey", umengAppKey)
        }
    }

    // 引入的部分三方框架注解编译器需要 kotlin 1.8
    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8
    }

    kotlinOptions {
        jvmTarget = JavaVersion.VERSION_1_8.toString()
    }

}

dependencies {
    //友盟相关
    implementation project(':library:utils')
    api(dep.other.umengcommon)
    api(dep.other.umengasms)
    api(dep.other.umengapm)
    api(dep.other.bugly)
    compileOnly(dep.other.walle)
}